<!doctype html>
<html lang="ru" class="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>GlassShop — Demo (Effects Pack v2)</title>
  <meta name="description" content="Glassmorphism shop demo with ripple, fly-to-cart, coverflow, flip-card, transitions, aurora + neon accents." />
  <link rel="preconnect" href="https://esm.sh" />
  <script>
    // Tailwind Play CDN config
    tailwind = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {}
        }
      }
    }
  </script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Utility styles used by the demo */
    .glass { background: rgba(255,255,255,0.10); border: 1px solid rgba(255,255,255,0.20); backdrop-filter: blur(18px); }
    .glass-icon { border: 1px solid rgba(255,255,255,0.20); background: rgba(255,255,255,0.10); padding: 0.5rem; border-radius: 1rem; backdrop-filter: blur(14px); }
    .btn-base { position: relative; display:inline-flex; align-items:center; justify-content:center; border-radius:1rem; padding:0.5rem 1rem; font-weight:600; }
    .btn-primary { background-image: linear-gradient(135deg,#67e8f9,#60a5fa); color:#0f172a; box-shadow: 0 10px 30px rgba(56,189,248,.35); }
    .btn-ghost { border:1px solid rgba(255,255,255,0.30); background: rgba(255,255,255,0.05); color:#fff; }
    .qty { height:2rem; width:2rem; border-radius:0.75rem; background: rgba(255,255,255,0.85); color:#0f172a; font-weight:700; }
    .neon-text { text-shadow: 0 0 12px rgba(56,189,248,.6), 0 0 24px rgba(56,189,248,.35); }
    .neon-border { box-shadow: 0 0 0 1px rgba(255,255,255,.14) inset, 0 0 22px rgba(56,189,248,.25); }
    .neon-line { background: linear-gradient(90deg, rgba(56,189,248,.0), rgba(56,189,248,.9), rgba(56,189,248,.0)); filter: drop-shadow(0 0 6px rgba(56,189,248,.6)); height:1px; }
    .ripple{position:absolute;width:20px;height:20px;background:rgba(255,255,255,.35);border-radius:9999px;transform:translate(-50%,-50%);animation:ripple .6s ease-out forwards; pointer-events:none}
    @keyframes ripple{from{opacity:.9;transform:translate(-50%,-50%) scale(.2)}to{opacity:0;transform:translate(-50%,-50%) scale(8)}}
    .aurora:before { content:''; position:absolute; inset:-20%; filter:blur(40px); background: conic-gradient(from 0deg, rgba(99,102,241,.25), rgba(56,189,248,.25), rgba(168,85,247,.25), rgba(99,102,241,.25)); animation: spin 18s linear infinite; }
    @keyframes spin { to { transform: rotate(1turn); } }
  </style>
</head>
<body class="bg-slate-950 text-white">
  <div id="root"></div>

  <script type="module">
    import React, { useEffect, useMemo, useRef, useState } from 'https://esm.sh/react@18';
    import { createRoot } from 'https://esm.sh/react-dom@18/client';
    import { motion, AnimatePresence } from 'https://esm.sh/framer-motion@11';
    import { ShoppingCart, Search, Star, Menu, X, Phone, Mail, ChevronRight, Filter, Heart, Sparkles } from 'https://esm.sh/lucide-react@0.468.0';

    // Ripple
    function useRipple() {
      const ref = React.useRef(null);
      function onPointerDown(e){
        const host = ref.current; if(!host) return;
        const r = host.getBoundingClientRect();
        const d = document.createElement('span');
        d.className = 'ripple';
        const x = e.clientX - r.left; const y = e.clientY - r.top;
        d.style.left = x + 'px'; d.style.top = y + 'px';
        host.appendChild(d);
        d.addEventListener('animationend', () => d.remove());
      }
      return { ref, onPointerDown };
    }
    function RipplePrimary({ children, onClick }){
      const { ref, onPointerDown } = useRipple();
      return <button ref={ref} onClick={onClick} onPointerDown={onPointerDown} className="btn-base btn-primary overflow-hidden">{children}</button>;
    }
    function RippleGhost({ children, onClick }){
      const { ref, onPointerDown } = useRipple();
      return <button ref={ref} onClick={onClick} onPointerDown={onPointerDown} className="btn-base btn-ghost overflow-hidden">{children}</button>;
    }

    // Fly-to-cart
    function flyToCart(imgEl, cartEl){
      if(!imgEl || !cartEl) return;
      const a = imgEl.getBoundingClientRect();
      const b = cartEl.getBoundingClientRect();
      const ghost = imgEl.cloneNode(true);
      Object.assign(ghost.style, { position:'fixed', left:a.left+'px', top:a.top+'px', width:a.width+'px', height:a.height+'px', borderRadius:'12px', zIndex:80 });
      document.body.appendChild(ghost);
      ghost.animate([
        { transform:'translate(0,0) scale(1)', opacity:1 },
        { transform:`translate(${b.left-a.left}px, ${b.top-a.top}px) scale(.2)`, opacity:.2 }
      ], { duration:620, easing:'cubic-bezier(.2,.8,.2,1)', fill:'forwards' }).addEventListener('finish', ()=> ghost.remove());
    }

    // Confetti (tiny)
    function ConfettiLayer(){
      const layerRef = React.useRef(null);
      React.useEffect(() => {
        window.confettiBurst = (x,y) => {
          const host = layerRef.current; if(!host) return;
          const colors = ['#67e8f9','#38bdf8','#a78bfa','#f472b6','#22d3ee','#93c5fd'];
          const n = 26;
          for(let i=0;i<n;i++){
            const d = document.createElement('div');
            d.className = 'pointer-events-none absolute h-2 w-2 rounded-[3px]';
            d.style.left = x+'px'; d.style.top = y+'px';
            d.style.background = colors[Math.floor(Math.random()*colors.length)];
            const dx = (Math.random()-0.5)*10, dy=(Math.random()-0.5)*10, rot=(Math.random()-0.5)*720, scale=0.8+Math.random()*1.6, duration=560+Math.random()*600;
            d.animate([{ transform:`translate(-50%,-50%) scale(${scale}) rotate(0deg)`, opacity:1 }, { transform:`translate(${dx*10}px, ${dy*10}px) scale(${scale}) rotate(${rot}deg)`, opacity:0 }], { duration, easing:'cubic-bezier(.2,.8,.2,1)', fill:'forwards' });
            host.appendChild(d);
            setTimeout(()=> d.remove(), duration+60);
          }
        };
      }, []);
      return <div ref={layerRef} className="pointer-events-none fixed inset-0 z-[80]" />;
    }

    function FlipCard({ front, back }){
      const [flipped, setFlipped] = useState(false);
      const isFinePointer = typeof window !== 'undefined' && matchMedia('(pointer:fine)').matches;
      return (
        <div className="group [perspective:1000px]" onMouseEnter={()=> isFinePointer && setFlipped(true)} onMouseLeave={()=> isFinePointer && setFlipped(false)}>
          <div className="relative h-full w-full [transform-style:preserve-3d] duration-300" style={{ transform: `rotateY(${flipped ? 180 : 0}deg)` }}>
            <div className="absolute inset-0 [backface-visibility:hidden]">{front}</div>
            <div className="absolute inset-0 [backface-visibility:hidden]" style={{ transform:'rotateY(180deg)' }}>{back}</div>
          </div>
          {!isFinePointer && <button onClick={()=> setFlipped(s=>!s)} className="mt-2 w-full rounded-xl border border-white/20 bg-white/10 py-1 text-xs">Быстрый просмотр</button>}
        </div>
      );
    }

    function Coverflow({ items }){
      const [i,setI] = useState(0);
      return (
        <div className="relative overflow-hidden py-4">
          <div className="flex snap-x gap-4 overflow-x-auto [perspective:1200px]">
            {items.map((it, idx) => {
              const off = idx - i;
              return (
                <div key={idx} className="neon-border relative h-72 w-56 shrink-0 snap-center rounded-3xl border border-white/15 bg-white/10 p-3 backdrop-blur">
                  <div style={{ transform:`translateZ(${off===0?40:0}px) rotateY(${off*-18}deg) scale(${off===0?1:0.92})`, transition:'transform .35s' }}>
                    <img src={it.img} alt={it.title} className="h-40 w-full rounded-2xl object-cover" />
                    <div className="mt-3 text-center text-sm opacity-90">{it.title}</div>
                  </div>
                </div>
              );
            })}
          </div>
          <div className="mt-3 flex justify-center gap-2">
            {items.map((_, idx) => <button key={idx} onClick={()=> setI(idx)} className={'h-2 w-2 rounded-full ' + (i===idx?'bg-cyan-300':'bg-white/30')} aria-label={'Позиция '+(idx+1)} />)}
          </div>
        </div>
      );
    }

    function ProductCardFront({ p, isFav, onFav, onAdd }){
      const { ref, onPointerDown } = useRipple();
      return (
        <div ref={ref} onPointerDown={onPointerDown} className="neon-border relative rounded-3xl border border-white/20 bg-white/10 p-3 backdrop-blur-xl shadow-xl">
          <div className="relative overflow-hidden rounded-2xl">
            <img src={p.img} alt={p.title} className="h-36 w-full rounded-[14px] object-cover sm:h-40 md:h-44" />
            <button onClick={onFav} className="absolute right-2 top-2 rounded-full bg-black/30 p-2 backdrop-blur-md ring-1 ring-white/20" aria-label="Добавить в избранное" title="Добавить в избранное">
              {React.createElement(Heart, { className: 'h-4 w-4 ' + (isFav ? 'fill-cyan-400 text-cyan-400' : 'text-white') })}
            </button>
          </div>
          <div className="mt-3 flex flex-col gap-2">
            <div className="min-h-[44px]">
              <h3 className="text-sm font-medium leading-snug md:text-base">{p.title}</h3>
              <div className="mt-1 flex items-center gap-1 text-xs text-white/70">
                {Array.from({length:5}).map((_,i)=> React.createElement(Star, { key:i, className:'h-4 w-4 ' + (i < Math.round(p.rating) ? 'fill-yellow-300 text-yellow-300':'text-white/40') }))}
                <span className="ml-1">{p.rating.toFixed(1)}</span>
              </div>
            </div>
            <div className="flex items-center justify-between">
              <div className="text-lg font-semibold">{p.price.toFixed(2)} $</div>
              <RipplePrimary><span onClick={onAdd}>В корзину</span></RipplePrimary>
            </div>
          </div>
        </div>
      );
    }

    function ProductCardBack({ p, onAdd }){
      return (
        <div className="neon-border flex h-full flex-col justify-between rounded-3xl border border-white/20 bg-white/10 p-3 backdrop-blur-xl shadow-xl">
          <div>
            <div className="text-sm font-semibold">{p.title}</div>
            <div className="mt-1 text-xs text-white/70">{p.desc ?? 'Описание появится позже'}</div>
          </div>
          <div className="flex items-center justify-between pt-2">
            <div className="text-lg font-semibold">{p.price.toFixed(2)} $</div>
            <RipplePrimary><span onClick={onAdd}>В корзину</span></RipplePrimary>
          </div>
        </div>
      );
    }

    function ConfettiProvider(){ return React.createElement(ConfettiLayer); }

    function App(){
      const [mobileNavOpen, setMobileNavOpen] = useState(false);
      const [cartOpen, setCartOpen] = useState(false);
      const [view, setView] = useState('catalog'); // 'catalog' | 'checkout'
      const [query, setQuery] = useState('');
      const [category, setCategory] = useState('Все');
      const [favorites, setFavorites] = useState([]);
      const [cart, setCart] = useState([]);
      const cartBtnRef = useRef(null);

      const products = useMemo(() => [
        { id:1, title:'Кроссовки Aurora X', price:149.99, rating:4.8, category:'Обувь', img:'https://images.unsplash.com/photo-1542291026-7eec264c27ff?q=80&w=1600&auto=format&fit=crop', desc:'Лёгкие, дышащие, 320г.' },
        { id:2, title:'Наушники Nebula Pro', price:199.0, rating:4.7, category:'Аудио', img:'https://images.unsplash.com/photo-1518441902113-c1d4f7a21e37?q=80&w=1600&auto=format&fit=crop', desc:'ANC + 40ч работы.' },
        { id:3, title:'Рюкзак GlassPack', price:89.5, rating:4.6, category:'Аксессуары', img:'https://images.unsplash.com/photo-1525966222134-fcfa99b8ae77?q=80&w=1600&auto=format&fit=crop', desc:'Водостойкий, USB‑порт.' },
        { id:4, title:'Смарт‑часы Halo', price:249.99, rating:4.9, category:'Гаджеты', img:'https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?q=80&w=1600&auto=format&fit=crop', desc:'ECG, SpO₂, eSIM.' },
        { id:5, title:'Куртка AirShell', price:129.0, rating:4.5, category:'Одежда', img:'https://images.unsplash.com/photo-1520975682031-a364c3b81f8b?q=80&w=1600&auto=format&fit=crop', desc:'Мембрана 10К/10К.' },
        { id:6, title:'Сумка Pulse Sling', price:59.99, rating:4.4, category:'Аксессуары', img:'https://images.unsplash.com/photo-1603252109303-2751441dd157?q=80&w=1600&auto=format&fit=crop', desc:'Быстрый доступ.' },
        { id:7, title:'Куртка Night Runner', price:169.0, rating:4.7, category:'Одежда', img:'https://images.unsplash.com/photo-1539533113208-f6df8cc8b543?q=80&w=1600&auto=format&fit=crop', desc:'Светоотражающая.' },
        { id:8, title:'Колонка Prism Mini', price:79.0, rating:4.3, category:'Аудио', img:'https://images.unsplash.com/photo-1518448839048-1db49f1a2b08?q=80&w=1600&auto=format&fit=crop', desc:'360° звук, BT 5.3.' },
      ], []);

      const categories = useMemo(()=> ['Все', ...Array.from(new Set(products.map(p=>p.category)))], [products]);
      const filtered = useMemo(()=> products.filter(p => (category==='Все' || p.category===category) && p.title.toLowerCase().includes(query.trim().toLowerCase())), [products, query, category]);
      const cartCount = useMemo(()=> cart.reduce((s,i)=> s+i.qty, 0), [cart]);
      const total = useMemo(()=> cart.reduce((s,i)=> { const prod = products.find(p=>p.id===i.id); return s + (prod ? prod.price*i.qty : 0); }, 0), [cart, products]);

      function addToCart(id, evt){
        setCart(prev => {
          const ex = prev.find(i=> i.id===id);
          if(ex) return prev.map(i=> i.id===id ? ({...i, qty:i.qty+1}) : i);
          return [...prev, { id, qty:1 }];
        });
        const btn = cartBtnRef.current;
        const img = evt?.currentTarget?.closest('[data-card]')?.querySelector('img');
        flyToCart(img, btn);
        const x = evt?.clientX ?? window.innerWidth/2, y = evt?.clientY ?? window.innerHeight/2;
        window.confettiBurst?.(x,y);
      }
      function decFromCart(id){ setCart(prev => prev.flatMap(i => i.id===id ? (i.qty>1 ? [{...i, qty:i.qty-1}] : []) : [i])); }
      function removeFromCart(id){ setCart(prev => prev.filter(i=> i.id!==id)); }
      function toggleFav(id){ setFavorites(prev => prev.includes(id) ? prev.filter(v=>v!==id) : [...prev, id]); }

      useEffect(()=> { document.documentElement.classList.add('dark'); }, []);

      return (
        <div className="relative min-h-screen overflow-x-hidden bg-slate-950 text-white">
          {React.createElement(ConfettiProvider)}

          {/* Aurora & neon line */}
          <div className="aurora pointer-events-none absolute inset-0 opacity-80"></div>
          <div className="pointer-events-none absolute inset-x-0 bottom-0 neon-line"></div>

          {/* Navbar */}
          <header className="sticky top-0 z-30 backdrop-blur-xl">
            <div className="mx-auto flex max-w-7xl items-center justify-between gap-3 px-4 py-4 md:px-6">
              <a href="#" className="flex items-center gap-2">
                <span className="inline-block h-9 w-9 rounded-2xl bg-white/10 backdrop-blur-xl ring-1 ring-white/20 shadow-lg"></span>
                <span className="text-lg font-semibold tracking-wide neon-text">GLASSSHOP</span>
              </a>

              <div className="hidden flex-1 items-center justify-center md:flex">
                <div className="glass flex w-full max-w-xl items-center gap-2 rounded-2xl px-3 py-2">
                  {React.createElement(Search, { className:'h-5 w-5 opacity-80' })}
                  <input value={query} onChange={e=> setQuery(e.target.value)} placeholder="Поиск товаров" className="w-full bg-transparent text-sm outline-none placeholder:text-white/60" />
                </div>
              </div>

              <div className="flex items-center gap-2">
                <div className="hidden md:block">
                  <select value={category} onChange={e=> setCategory(e.target.value)} className="glass cursor-pointer rounded-2xl px-3 py-2 text-sm">
                    {categories.map(c => <option key={c} value={c} className="bg-slate-900">{c}</option>)}
                  </select>
                </div>
                <button ref={cartBtnRef} onClick={()=> setCartOpen(true)} className="relative glass-icon group">
                  {React.createElement(ShoppingCart, { className:'h-6 w-6' })}
                  {cartCount>0 && <span className="absolute -right-2 -top-2 min-w-[22px] rounded-full bg-cyan-400 px-1.5 text-center text-xs font-semibold text-slate-900 shadow">{cartCount}</span>}
                </button>
                <button onClick={()=> setMobileNavOpen(true)} className="glass-icon md:hidden">{React.createElement(Menu, { className:'h-6 w-6' })}</button>
              </div>
            </div>

            <div className="block px-4 pb-4 md:hidden">
              <div className="glass flex items-center gap-2 rounded-2xl px-3 py-2">
                {React.createElement(Search, { className:'h-5 w-5 opacity-80' })}
                <input value={query} onChange={e => setQuery(e.target.value)} placeholder="Поиск товаров" className="w-full bg-transparent text-sm outline-none placeholder:text-white/60" />
                {React.createElement(Filter, { className:'h-5 w-5 opacity-80' })}
                <select value={category} onChange={e => setCategory(e.target.value)} className="rounded-xl bg-white/10 px-2 py-1 text-xs backdrop-blur">
                  {categories.map(c => <option key={c} value={c} className="bg-slate-900">{c}</option>)}
                </select>
              </div>
            </div>
          </header>

          {/* HERO */}
          <section className="relative mx-auto mt-6 max-w-7xl px-4 md:px-6">
            <div className="glass relative overflow-hidden rounded-3xl p-6 md:p-10">
              <h1 className="neon-text text-3xl font-bold leading-tight md:text-5xl">Стеклянный магазин будущего</h1>
              <p className="mt-3 max-w-xl text-white/80 md:text-lg">Современный дизайн, много эффектов и внимание к деталям. Адаптивно, быстро и с неоновыми акцентами.</p>
              <div className="mt-5 flex flex-wrap gap-3">
                <RipplePrimary onClick={()=> setView('catalog')}>Смотреть каталог {React.createElement(ChevronRight, { className:'ml-1 h-4 w-4' })}</RipplePrimary>
                <RippleGhost>Демо‑заявка</RippleGhost>
              </div>
              <div className="mt-6 flex items-center gap-6 text-sm text-white/70">
                <div className="flex items-center gap-2">{React.createElement(Phone, { className:'h-4 w-4' })} +1 (800) 000‑0000</div>
                <div className="flex items-center gap-2">{React.createElement(Mail, { className:'h-4 w-4' })} hello@glassshop.dev</div>
              </div>

              <div className="mt-8">
                <div className="mb-2 flex items-center gap-2 text-sm uppercase tracking-wide text-white/70">{React.createElement(Sparkles, { className:'h-4 w-4' })} Подборка недели</div>
                {React.createElement(Coverflow, { items: products.slice(0,6).map(p=> ({ title:p.title, img:p.img })) })}
              </div>
            </div>
          </section>

          {/* PAGE TRANSITIONS */}
          <main className="relative mx-auto mt-8 max-w-7xl px-4 md:px-6">
            {React.createElement(AnimatePresence, { mode:'wait' },
              view==='catalog'
              ? React.createElement(motion.section, { key:'catalog', initial:{opacity:0,y:10}, animate:{opacity:1,y:0}, exit:{opacity:0,y:-10}, transition:{duration:.25} },
                  React.createElement('div', { className:'mb-4 flex items-center justify-between' },
                    React.createElement('h2', { className:'text-xl font-semibold md:text-2xl' }, 'Каталог'),
                    React.createElement('a', { href:'#', className:'group inline-flex items-center gap-1 text-sm text-white/80 hover:text-white' }, 'Смотреть все ', React.createElement(ChevronRight, { className:'h-4 w-4 transition-transform group-hover:translate-x-0.5' }))
                  ),
                  React.createElement('div', { className:'grid grid-cols-2 gap-4 sm:grid-cols-3 lg:grid-cols-4' },
                    filtered.map(p => React.createElement('article', { key:p.id, 'data-card':true, className:'relative' },
                      React.createElement(FlipCard, {
                        front: React.createElement(ProductCardFront, { p, isFav: favorites.includes(p.id), onFav: ()=> toggleFav(p.id), onAdd: (e)=> addToCart(p.id, e) }),
                        back: React.createElement(ProductCardBack, { p, onAdd: (e)=> addToCart(p.id, e) })
                      })
                    ))
                  )
                )
              : React.createElement(motion.section, { key:'checkout', initial:{opacity:0,y:10}, animate:{opacity:1,y:0}, exit:{opacity:0,y:-10}, transition:{duration:.25} },
                  React.createElement('div', { className:'glass rounded-3xl p-6 md:p-10' },
                    React.createElement('h2', { className:'text-2xl font-semibold neon-text' }, 'Оформление заказа'),
                    React.createElement('p', { className:'mt-2 text-white/70' }, 'Демо‑страница. Здесь будет ввод данных и оплата.'),
                    React.createElement('div', { className:'mt-4 space-y-3' },
                      cart.map(item => {
                        const prod = products.find(p=> p.id===item.id); if(!prod) return null;
                        return React.createElement('div', { key:item.id, className:'flex items-center justify-between rounded-2xl border border-white/15 bg-white/10 p-3 backdrop-blur' },
                          React.createElement('div', { className:'flex items-center gap-3' },
                            React.createElement('img', { src:prod.img, alt:prod.title, className:'h-12 w-12 rounded-xl object-cover' }),
                            React.createElement('div', null,
                              React.createElement('div', { className:'text-sm font-medium' }, prod.title),
                              React.createElement('div', { className:'text-xs text-white/70' }, prod.price.toFixed(2), ' $ × ', item.qty)
                            )
                          ),
                          React.createElement('div', { className:'text-right font-semibold' }, (prod.price*item.qty).toFixed(2), ' $')
                        );
                      })
                    ),
                    React.createElement('div', { className:'mt-4 flex items-center justify-between' },
                      React.createElement('div', { className:'text-white/80' }, 'Итого'),
                      React.createElement('div', { className:'text-xl font-semibold' }, total.toFixed(2), ' $')
                    ),
                    React.createElement('div', { className:'mt-5 flex gap-3' },
                      React.createElement(RippleGhost, { onClick: ()=> setView('catalog') }, 'Вернуться в каталог'),
                      React.createElement(RipplePrimary, null, 'Оплатить')
                    )
                  )
                )
            )}
          </main>

          {/* CTA */}
          <section id="contact" className="mx-auto my-16 max-w-7xl px-4 md:px-6">
            <div className="glass flex flex-col items-center gap-4 rounded-3xl p-6 text-center md:flex-row md:justify-between md:text-left md:p-10">
              <div>
                <h3 className="text-2xl font-semibold">Хотите такой же магазин под ваш бренд?</h3>
                <p className="mt-1 text-white/80">Подключим оплату, личный кабинет, фильтры, SEO и аналитику. Эффекты — с тонкой настройкой.</p>
              </div>
              {React.createElement(RipplePrimary, null, 'Обсудить проект')}
            </div>
          </section>

          {/* Off-canvas cart */}
          {React.createElement(AnimatePresence, null,
            cartOpen && React.createElement(React.Fragment, null,
              React.createElement(motion.div, { key:'overlay', initial:{opacity:0}, animate:{opacity:1}, exit:{opacity:0}, className:'fixed inset-0 z-40 bg-black/50', onClick: ()=> setCartOpen(false) }),
              React.createElement(motion.aside, { key:'drawer', initial:{x:420}, animate:{x:0}, exit:{x:420}, transition:{type:'spring', stiffness:300, damping:30}, className:'fixed right-0 top-0 z-50 h-screen w-full max-w-md border-l border-white/20 bg-slate-900/70 backdrop-blur-2xl shadow-2xl' },
                React.createElement('div', { className:'flex items-center justify-between px-5 py-4' },
                  React.createElement('h4', { className:'text-lg font-semibold' }, 'Ваша корзина'),
                  React.createElement('button', { onClick: ()=> setCartOpen(false), className:'glass-icon' }, React.createElement(X, { className:'h-6 w-6' }))
                ),
                React.createElement('div', { className:'max-h-[calc(100vh-220px)] space-y-3 overflow-y-auto px-5 pb-4' },
                  cart.length===0 && React.createElement('div', { className:'rounded-2xl border border-white/20 p-4 text-center text-white/70' }, 'Корзина пуста'),
                  cart.map(item => {
                    const prod = products.find(p=> p.id===item.id); if(!prod) return null;
                    return React.createElement('div', { key:item.id, className:'grid grid-cols-[64px,1fr,auto] items-center gap-3 rounded-2xl border border-white/20 bg-white/10 p-3 backdrop-blur' },
                      React.createElement('img', { src:prod.img, alt:prod.title, className:'h-16 w-16 rounded-xl object-cover' }),
                      React.createElement('div', null,
                        React.createElement('div', { className:'text-sm font-medium' }, prod.title),
                        React.createElement('div', { className:'text-xs text-white/70' }, prod.price.toFixed(2), ' $ × ', item.qty)
                      ),
                      React.createElement('div', { className:'flex items-center gap-2' },
                        React.createElement('button', { onClick: ()=> decFromCart(item.id), className:'qty' }, '–'),
                        React.createElement('span', { className:'w-6 text-center text-sm' }, item.qty),
                        React.createElement('button', { onClick: (e)=> addToCart(item.id, e), className:'qty' }, '+'),
                        React.createElement('button', { onClick: ()=> removeFromCart(item.id), className:'ml-2 rounded-xl bg-red-500/80 px-2 py-1 text-xs font-semibold text-white hover:bg-red-500' }, 'Удалить')
                      )
                    );
                  })
                ),
                React.createElement('div', { className:'border-t border-white/10 p-5' },
                  React.createElement('div', { className:'mb-3 flex items-center justify-between text-white/90' },
                    React.createElement('span', null, 'Итого'),
                    React.createElement('span', { className:'text-xl font-semibold' }, total.toFixed(2), ' $')
                  ),
                  React.createElement('div', { className:'flex gap-2' },
                    React.createElement('button', { className:'w-1/2 rounded-2xl border border-white/25 bg-white/10 px-4 py-3 font-semibold', onClick: ()=> setCartOpen(false) }, 'Продолжить покупки'),
                    React.createElement('button', { onClick: ()=> { setView('checkout'); setCartOpen(false); }, className:'w-1/2 rounded-2xl bg-gradient-to-tr from-cyan-300 to-blue-400 px-4 py-3 text-slate-900 font-semibold shadow-xl hover:opacity-95' }, 'К оформлению')
                  ),
                  React.createElement('p', { className:'mt-2 text-center text-xs text-white/60' }, 'Демо: оплата не подключена')
                )
              )
            )
          )}

          {/* Footer */}
          <footer className="mt-16 border-t border-white/10 py-10">
            <div className="mx-auto grid max-w-7xl gap-6 px-4 md:grid-cols-4 md:px-6">
              <div>
                <div className="flex items-center gap-2"><span className="inline-block h-9 w-9 rounded-2xl bg-white/10 backdrop-blur-xl ring-1 ring-white/20 shadow-lg"></span><span className="text-lg font-semibold tracking-wide">GLASSSHOP</span></div>
                <p className="mt-3 text-sm text-white/70">Effects Pack v2: ripple, fly‑to‑cart, coverflow, flip‑card, transitions, aurora + неон.</p>
              </div>
              <div>
                <h5 className="mb-2 font-semibold">Магазин</h5>
                <ul className="space-y-1 text-sm text-white/70">
                  <li><a href="#" className="hover:text-white">Каталог</a></li>
                  <li><a href="#" className="hover:text-white">Доставка</a></li>
                  <li><a href="#" className="hover:text-white">Возврат</a></li>
                </ul>
              </div>
              <div>
                <h5 className="mb-2 font-semibold">Компания</h5>
                <ul className="space-y-1 text-sm text-white/70">
                  <li><a href="#" className="hover:text-white">О нас</a></li>
                  <li><a href="#" className="hover:text-white">Вакансии</a></li>
                  <li><a href="#" className="hover:text-white">Контакты</a></li>
                </ul>
              </div>
              <div>
                <h5 className="mb-2 font-semibold">Поддержка</h5>
                <ul className="space-y-1 text-sm text-white/70">
                  <li><a href="#" className="hover:text-white">Помощь</a></li>
                  <li><a href="#" className="hover:text-white">Конфиденциальность</a></li>
                  <li><a href="#" className="hover:text-white">Условия</a></li>
                </ul>
              </div>
            </div>
            <div className="mt-8 text-center text-xs text-white/60">© <span id="year"></span> GlassShop. Все права защищены.</div>
          </footer>
        </div>
      );
    }

    const root = createRoot(document.getElementById('root'));
    root.render(React.createElement(App));
    document.getElementById('year').textContent = String(new Date().getFullYear());
  </script>
</body>
</html>
